sap.ui.define(["sap/ui/core/mvc/Controller","custom/FilerobotImageEditor","sap/m/MessageToast"],(e,o,t)=>{"use strict";return e.extend("ui5.imgeditor.controller.App",{onInit(){},onBeforeRendering(){},onAfterRendering(){},onUpload:function(e){var o=this.getView().byId("myFileUploader");var t=o.oFileUpload.files[0];var i=new FileReader;i.onload=function(e){var o=e.target.result;var t=new sap.m.Image({src:o});var i=this.getView().byId("myPanel");i.addContent(t)}.bind(this);i.readAsDataURL(t)},onUploadComplete:function(e){},onUploadPress:function(){let e=this.getView().byId("fileUploader");var o=e.oFileUpload.files[0];var t=new FileReader;t.onload=function(e){let o=e.target.result;this.onOpenImgEditor(o)}.bind(this);t.readAsDataURL(o)},onOpenImgEditor:function(e){const{TABS:t,TOOLS:i}=o;const n={source:e,onSave:function(e,o){var t=document.createElement("a");t.href=e.imageBase64;t.download=e.fullName;t.click();console.log("saved",e,o)},annotationsCommon:{fill:"#ff0000"},Text:{text:"Filerobot..."},Rotate:{angle:90,componentType:"slider"},translations:{profile:"Profile",coverPhoto:"Cover photo",facebook:"Facebook",socialMedia:"Social Media",fbProfileSize:"180x180px",fbCoverPhotoSize:"820x312px"},Crop:{presetsItems:[{titleKey:"classicTv",descriptionKey:"4:3",ratio:4/3},{titleKey:"cinemascope",descriptionKey:"21:9",ratio:21/9}],presetsFolders:[{titleKey:"socialMedia",groups:[{titleKey:"facebook",items:[{titleKey:"profile",width:180,height:180,descriptionKey:"fbProfileSize"},{titleKey:"coverPhoto",width:820,height:312,descriptionKey:"fbCoverPhotoSize"}]}]}]},tabsIds:[t.ADJUST,t.ANNOTATE,t.WATERMARK],defaultTabId:t.ANNOTATE,defaultToolId:i.TEXT};let a=this.getView().byId("imgContainer");let l=a.getDomRef();console.log(a);console.log(l);const r=new o(l,n);r.render({onClose:e=>{console.log("Closing reason",e);r.terminate()}})}})});
//# sourceMappingURL=App.controller.js.map