sap.ui.define(["sap/ui/core/mvc/Controller","custom/FilerobotImageEditor","sap/m/MessageToast"],(e,o,t)=>{"use strict";let i;return e.extend("ui5.imgeditor.controller.App",{onInit(){},onBeforeRendering(){},onAfterRendering(){},_getFileSizeInBase64:function(e){const o=e.endsWith("==")?2:e.endsWith("=")?1:0;const t=e.length/4*3-o;const i=t/1024;const n=i/1e3;return{sizeInBytes:t,sizeInKB:i,sizeInMB:n}},onUpload:function(e){var o=this.getView().byId("myFileUploader");var t=o.oFileUpload.files[0];var i=new FileReader;i.onload=function(e){var o=e.target.result;var t=new sap.m.Image({src:o});var i=this.getView().byId("myPanel");i.addContent(t)}.bind(this);i.readAsDataURL(t)},onUploadComplete:function(e){},onUploadPress:function(){let e=this.getView().byId("fileUploader");var o=e.oFileUpload.files[0];var t=new FileReader;t.onload=function(e){let o=e.target.result;this.onOpenImgEditor(o)}.bind(this);t.readAsDataURL(o)},onOpenImgEditor:function(e){const t=this._getFileSizeInBase64;const{TABS:n,TOOLS:a}=o;const s={source:e,onSave:function(e,o){var t=document.createElement("a");t.href=e.imageBase64;t.download=e.fullName;t.click();console.log("Saved",e,o)},onBeforeSave:function(e){},onModify:function(e){},annotationsCommon:{fill:"#00000000",stroke:"#ff0000",strokeWidth:2},Text:{text:"Text..."},Rotate:{angle:90,componentType:"slider"},translations:{profile:"Profile",coverPhoto:"Cover photo",facebook:"Facebook",socialMedia:"Social Media",fbProfileSize:"180x180px",fbCoverPhotoSize:"820x312px"},Crop:{presetsItems:[{titleKey:"classicTv",descriptionKey:"4:3",ratio:4/3},{titleKey:"cinemascope",descriptionKey:"21:9",ratio:21/9}],presetsFolders:[{titleKey:"socialMedia",groups:[{titleKey:"facebook",items:[{titleKey:"profile",width:180,height:180,descriptionKey:"fbProfileSize"},{titleKey:"coverPhoto",width:820,height:312,descriptionKey:"fbCoverPhotoSize"}]}]}]},tabsIds:[n.ADJUST,n.ANNOTATE],defaultTabId:n.ANNOTATE,defaultToolId:a.PEN,defaultSavedImageName:"image"};let l=this.getView().byId("imgContainer");let r=l.getDomRef();console.log(l);console.log(r);const d=i=new o(r,s);d.render({onClose:e=>{console.log("Closing reason",e);d.terminate()}});console.log(d.getCurrentImgData())}})});
//# sourceMappingURL=App.controller.js.map